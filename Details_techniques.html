<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <title>Détails techniques</title>
	<style>
	#main {
		position: absolute;
		max-width: 80%;
		left: 8%;
		border: 1px solid blue;
		padding:  10px 40px 20px 30px;
		font-size: 1.2em;
	}
	.codeDiv {
		border: 2px solid red;
		padding:  0px 40px 0px 30px;
		width: 60%;
	}
	h1 {
		text-align:center;
		font-size: 1.8em;
	}
	h2 {
		font-size: 1.2em;
		line-height: 0.8;	
	}
	h3 {
		font-size: 1.1em;
		font-style: italic;		
		padding-left: 20px;
		line-height: 0.2;	
	}
	</style>
</head>
<body>
	<div id= "main">
    <h1>Affichage d'un réseau avec Node_network_map</h1>
	<br>
	<p style= "text-align : center"><i>document en cours de rédaction</i></p><br>
		
	
	<h2>Organisation des répertoires</h2>
	Le dossier principal peut porter le nom du réseau. Il comprend un seul fichier, <i>showMap.html</i>, qui appelle la page de la carte et deux sous-dossiers : <i>network_map</i> et <i>network_data</i>.<br>
	Le dossier <i><b>network_map</i></b> est identique pour tous les réseaux. Il contient la page d'affichage de la carte (<i>Node_network_map.html</i>), quelques fichiers annexes et un sous-dossier <i>leaflet-src</i> comprenant les sources du moteur de rendu Leaflet.<br>
	Le dossier <i><b>network_data</i></b> contient les données du réseau, configuration et données géographiques, dans un cadre défini ci-dessous.
	
	<h2>Dossier network_data</h2>
	
	<h3>Structure des fichiers</h3>
	En javascript, on ne peut pas lire des fichiers locaux directement depuis une page html  (rejet requête CORS...). Pour contourner cette difficulté, ces fichiers sont lus au chargement de la page en tant que script de Javascript. Toutes les variables sont déclarées et initialisées dans le script principal. Elles sont surchargées par les valeurs lues dans les scripts quand elles existent.<br>
	Les données géographiques sont caractérisées par des noms de variable <i>varname</i> détaillés ci-dessous.<br> 
	Ces données sont sous la forme d'un fichier texte <i>varname.txt</i> qui est un fichier Geojson avec une première ligne supplémentaire 
	<i>varname</i> =<br>
	
	<h3>Fichiers de données</h3>
	Comme indiqué ci-dessus, les données sont groupées dans des fichiers texte (.txt) avec des noms prédéfinis. Pour les données optionnelles, le fichier doit exister mais il peut être vide.<br>
	Les différentes couches de données sont ; <br>
	&nbsp&nbsp&nbsp <i><b>-- routes</b></i> : itinéraires entre les carrefours.<br>
	&nbsp&nbsp&nbsp <i><b>-- connections</b></i> : itinéraires de liaisons vers les réseaux voisins. Ces itinéraires sont classés à part car certains gestionnaires de réseau préfèrent qu'ils n'apparaissent que dans la partie appartenant au réseau. Si ce n'est pas le cas, ils peuvent être groupés avec les routes et le fichier laissé vide. <br>
	&nbsp&nbsp&nbsp <i><b>-- guideposts</b></i> : poteaux avec des lames directionnelles situés aux intersections. <br>	
	&nbsp&nbsp&nbsp <i><b>-- maps</b></i> : panneaux montrant des plans schématiques du réseau, situés en général dans les villages.<br>
	
	<h3>Fichier de configuration</h3>
	
<br>	
<br>
</div>
</body>
</html>

